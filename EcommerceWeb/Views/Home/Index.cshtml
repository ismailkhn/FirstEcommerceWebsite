@using Entities;
@model HomeVM
@section mycss{
    <link rel="preload" href="/front-assets/css/home_1.css" as="style">
    <link rel="stylesheet" href="/front-assets/css/home_1.css">
}
<div id="carousel-home">
    <div class="owl-carousel owl-theme">
        @foreach (var item in Model.homeSliders)
        {

            TextPosition textClass = DomHelperClass.findClassNameForPosition(item.TextPosition);
            <div class="owl-slide cover" style="background-image: url(@item.PhotoUrl);">
                <div class="opacity-mask d-flex align-items-center" data-opacity-mask="rgba(0, 0, 0, 0.5)">
                    <div class="container">
                        <div class="row justify-content-center @(textClass.textParent)">
                            <div class="col-lg-6 static">
                                <div class="slide-text white @(textClass.textAlign)">
                                    <h2 class="owl-slide-animated owl-slide-title">@item.Title</h2>
                                    <p class="owl-slide-animated owl-slide-subtitle">
                                        @item.Description
                                    </p>
                                    <div class="owl-slide-animated owl-slide-cta"><a class="btn_1" href="@item.URL" role="button">Shop Now</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--/owl-slide-->
        }
        <div class="owl-slide cover" style="background-image: url(/front-assets/img/slides/slide_home_1.jpg);">
            <div class="opacity-mask d-flex align-items-center" data-opacity-mask="rgba(0, 0, 0, 0.5)">
                <div class="container">
                    <div class="row justify-content-center justify-content-md-start">
                        <div class="col-lg-6 static">
                            <div class="slide-text white">
                                <h2 class="owl-slide-animated owl-slide-title">Attack Air<br>VaporMax Flyknit 3</h2>
                                <p class="owl-slide-animated owl-slide-subtitle">
                                    Limited items available at this price
                                </p>
                                <div class="owl-slide-animated owl-slide-cta"><a class="btn_1" href="listing-grid-1-full.html" role="button">Shop Now</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--/owl-slide-->
        <div class="owl-slide cover" style="background-image: url(/front-assets/img/slides/slide_home_3.jpg);">
            <div class="opacity-mask d-flex align-items-center" data-opacity-mask="rgba(255, 255, 255, 0.5)">
                <div class="container">
                    <div class="row justify-content-center justify-content-md-start">
                        <div class="col-lg-12 static">
                            <div class="slide-text text-center black">
                                <h2 class="owl-slide-animated owl-slide-title">Attack Air<br>Monarch IV SE</h2>
                                <p class="owl-slide-animated owl-slide-subtitle">
                                    Lightweight cushioning and durable support with a Phylon midsole
                                </p>
                                <div class="owl-slide-animated owl-slide-cta"><a class="btn_1" href="listing-grid-1-full.html" role="button">Shop Now</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--/owl-slide-->
        </div>
    </div>
    <div id="icon_drag_mobile"></div>
</div>
<!--/carousel-->

<ul id="banners_grid" class="clearfix">
    @foreach (var item in Model.Collections)
    {
        <li>
            <a href="" class="img_container">
                <img src="@item.PhotoUrl" data-src="@item.PhotoUrl" alt="" class="lazy">
                <div class="short_info opacity-mask" data-opacity-mask="rgba(0, 0, 0, 0.5)">
                    <h3>@item.Name</h3>
                    <div><span class="btn_1">Go to page</span></div>
                </div>
            </a>
        </li>

    }

</ul>
<!--/banners_grid -->

<div class="container margin_60_35">
    <div class="main_title">
        <h2>Top Selling</h2>
        <span>Products</span>
        <p>Cum doctus civibus efficiantur in imperdiet deterruisset</p>
    </div>
    <div class="row small-gutters">

        @foreach (var item in Model.TopSellingProducts)
        {
            decimal disc = (item.Discount / item.Price) * 100;
            <div class="col-6 col-md-4 col-xl-3">
                <div class="grid_item">
                    <figure>
                        <span class="ribbon off">-@(decimal.Ceiling(100 - disc))%</span>
                        <a asp-action="Details" asp-controller="Product" asp-route-id="@item.Id">
                            <img class="img-fluid lazy" src="/front-assets/img/products/product_placeholder_square_medium.jpg" data-src="@item.CoverPhoto?.PhotoUrl" alt="" width="400" height="400">
                            @if (item.ProductToPictures?.Count > 0)
                            {
                                <img class="img-fluid lazy" src="/front-assets/img/products/product_placeholder_square_medium.jpg" data-src="@item.ProductToPictures?[0].Picture.PhotoUrl" alt="" width="400" height="400">

                            }
                        </a>
                        <div data-countdown="2019/05/15" class="countdown"></div>
                    </figure>
                    <div class="rating"><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star"></i></div>
                    <a asp-action="Details" asp-controller="Product" asp-route-id="@item.Id">
                        <h3>@item.Name</h3>
                    </a>
                    <div class="price_box">
                        @if (item.Discount > 0)
                        {
                            <span class="new_price">$@item.Discount</span>
                            <span class="old_price">$@item.Price</span>
                        }
                        else
                        {
                            <span class="new_price">$@item.Price</span>

                        }

                    </div>
                    <ul>
                        <li><a href="#0" class="tooltip-1" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to favorites"><i class="ti-heart"></i><span>Add to favorites</span></a></li>
                        <li><a href="#0" class="tooltip-1" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to compare"><i class="ti-control-shuffle"></i><span>Add to compare</span></a></li>
                        <li><a href="#0" class="tooltip-1" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to cart"><i class="ti-shopping-cart"></i><span>Add to cart</span></a></li>
                    </ul>
                </div>
                <!-- /grid_item -->
            </div>

            <!-- /col -->
        }

    </div>
    <!-- /row -->
</div>
<!-- /container -->
@if (Model.BannerProducts != null)
{
    <div class="featured lazy" data-bg="url(@Model.BannerProducts.PhotoUrl)">
        <div class="opacity-mask d-flex align-items-center" data-opacity-mask="rgba(0, 0, 0, 0.5)">
            <div class="container margin_60">
                <div class="row justify-content-center justify-content-md-start">
                    <div class="col-lg-6 wow" data-wow-offset="150">
                        <h3>Armor<br>@Model.BannerProducts.Title</h3>
                        <p>@Model.BannerProducts.Description</p>
                        <div class="feat_text_block">
                            <div class="price_box">
                                @if (Model.BannerProducts.Discount > 0)
                                {
                                    <span class="new_price">$@Model.BannerProducts.Discount</span>
                                    <span class="old_price">$@Model.BannerProducts.Price</span>
                                }
                                else
                                {
                                    <span class="new_price">$@Model.BannerProducts.Price</span>

                                }
                            </div>
                            <a class="btn_1" href="#" role="button">Shop Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /featured -->
}


<div class="container margin_60_35">
    <div class="main_title">
        <h2>Featured</h2>
        <span>Products</span>
        <p>Cum doctus civibus efficiantur in imperdiet deterruisset</p>
    </div>
    <div class="owl-carousel owl-theme products_carousel">
        @foreach (var item in Model.FeaturedProducts)
        {

            string pictureUrl = "/front-assets/img/products/product_placeholder_square_medium.jpg";

            if (item.CoverPhoto != null)
            {
                pictureUrl = item.CoverPhoto.PhotoUrl;
            }

            <div class="item">
                <div class="grid_item">
                    <span class="ribbon new">New</span>
                    <figure>
                        <a asp-action="Details" asp-controller="Product" asp-route-id="@item.Id">
                            <img class="owl-lazy img-fluid" src="" data-src="@pictureUrl" alt="" width="400" height="400">
                        </a>
                    </figure>
                    <div class="rating"><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star voted"></i><i class="icon-star"></i></div>
                    <a asp-action="Details" asp-controller="Product" asp-route-id="@item.Id">
                        <h3>@item.Name</h3>
                    </a>
                    <div class="price_box">
                        @if (item.Discount > 0)
                        {
                            <span class="new_price">$@item.Discount</span>
                            <span class="old_price">$@item.Price</span>
                        }
                        else
                        {
                            <span class="new_price">$@item.Price</span>

                        }
                    </div>
                    <ul>
                        <li><a href="#0" class="tooltip-1" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to favorites"><i class="ti-heart"></i><span>Add to favorites</span></a></li>
                        <li><a href="#0" class="tooltip-1" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to compare"><i class="ti-control-shuffle"></i><span>Add to compare</span></a></li>
                        <li><a href="#0" class="tooltip-1" data-bs-toggle="tooltip" data-bs-placement="left" title="Add to cart"><i class="ti-shopping-cart"></i><span>Add to cart</span></a></li>
                    </ul>
                </div>
                <!-- /grid_item -->
            </div>
            <!-- /item -->
        }


    </div>
    <!-- /products_carousel -->
</div>
<!-- /container -->

<div class="bg_gray">
    <div class="container margin_30">
        <div id="brands" class="owl-carousel owl-theme">
            <div class="item">
                <a href="#0"><img src="/front-assets/img/brands/placeholder_brands.png" data-src="/front-assets/img/brands/logo_1.png" alt="" class="owl-lazy"></a>
            </div><!-- /item -->
            <div class="item">
                <a href="#0"><img src="/front-assets/img/brands/placeholder_brands.png" data-src="/front-assets/img/brands/logo_2.png" alt="" class="owl-lazy"></a>
            </div><!-- /item -->
            <div class="item">
                <a href="#0"><img src="/front-assets/img/brands/placeholder_brands.png" data-src="/front-assets/img/brands/logo_3.png" alt="" class="owl-lazy"></a>
            </div><!-- /item -->
            <div class="item">
                <a href="#0"><img src="/front-assets/img/brands/placeholder_brands.png" data-src="/front-assets/img/brands/logo_4.png" alt="" class="owl-lazy"></a>
            </div><!-- /item -->
            <div class="item">
                <a href="#0"><img src="/front-assets/img/brands/placeholder_brands.png" data-src="/front-assets/img/brands/logo_5.png" alt="" class="owl-lazy"></a>
            </div><!-- /item -->
            <div class="item">
                <a href="#0"><img src="/front-assets/img/brands/placeholder_brands.png" data-src="/front-assets/img/brands/logo_6.png" alt="" class="owl-lazy"></a>
            </div><!-- /item -->
        </div><!-- /carousel -->
    </div><!-- /container -->
</div>
<!-- /bg_gray -->
@if (Model.Blogs.Count > 0)
{

    <div class="container margin_60_35">
        <div class="main_title">
            <h2>Latest News</h2>
            <span>Blog</span>
            <p>BLOGLAR</p>
        </div>
    </div>
    @foreach (var item in Model.Blogs)
    {
        <div class="row">
            <div class="col-lg-6">
                <a class="box_news" asp-controller="Blog" asp-action="Details" asp-route-id="@item.Id">
                    <figure>
                        <img src="/front-assets/img/blog-thumb-placeholder.jpg" data-src="@item.PhotoUrl" alt="" width="400" height="266" class="lazy">
                        <figcaption><strong>@item.PublishedTime.Day</strong>@item.PublishedTime.ToString("MMM")</figcaption>
                    </figure>
                    <ul>
                        @if (item.Author != null)
                        {
                            <li>by @item.Author.Name</li>
                        }

                        <li>@item.PublishedTime.ToShortDateString()</li>
                    </ul>
                    <h4>@item.Title</h4>
                    <p>@(item.Description?.Length>150? item.Description.Substring(0,150)+"..." : item.Description) </p>
                </a>
            </div>
            <!-- /box_news -->
        </div>
        <!-- /row -->
        <!-- /container -->
    }

}